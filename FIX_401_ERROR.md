# ๐ง ุฏููู ุญู ูุดููุฉ ุงูุฎุทุฃ 401 (Unauthorized)

## ๐จ ุงููุดููุฉ
ุนูุฏ ุงูุถุบุท ุนูู "ุฅุฑุณุงู ุงูุงุณุชูุงุฑุฉ" ุชุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ:
```
Request failed with status code 401
```

## โ ุงูุญู ุงููุทุจู

ุชู ุฅุตูุงุญ ุงููุดููุฉ ุนุจุฑ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

### 1. ุฅูุดุงุก ูุธุงู Axios Interceptor ูุชูุฏู
- ุฅูุดุงุก ููู `apiClient.ts` ููุชุนุงูู ูุน ุงูุชูุงุก ุตูุงุญูุฉ ุงูุชููู
- ุฅุถุงูุฉ ูุธุงู ุชููุงุฆู ูุชุฌุฏูุฏ ุงูุชููู
- ุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู ุนูุฏ ูุดู ุงูุชุฌุฏูุฏ

### 2. ุชุญุฏูุซ ุฌููุน ุงูุตูุญุงุช
- โ ุชุญุฏูุซ `government-entity.tsx`
- โ ุชุญุฏูุซ `citizen-feedback.tsx`
- โ ุชุญุฏูุซ `admin/forms.tsx`
- โ ุชุญุฏูุซ `auth.ts`
- โ ุชุญุฏูุซ `api.ts`

### 3. ุงุณุชุฎุฏุงู localStorage ุจุฏูุงู ูู Cookies
- ุชุญููู ุชุฎุฒูู ุงูุชููู ูู Cookies ุฅูู localStorage
- ุชูุญูุฏ ุทุฑููุฉ ุงูุชุนุงูู ูุน ุงูุชููู ูู ุฌููุน ุฃูุญุงุก ุงูุชุทุจูู

## ๐ ููููุฉ ุงุฎุชุจุงุฑ ุงูุญู

### 1. ุชุณุฌูู ุงูุฏุฎูู
```
1. ุงุฐูุจ ุฅูู http://localhost:3000/login
2. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจู
3. ุงูุชูู ุฅูู Dashboard
```

### 2. ุชุฌุฑุจุฉ ุงูุงุณุชูุงุฑุงุช
```
1. ุงุถุบุท ุนูู "ุงุณุชูุงุฑุฉ ุงูุฌูุงุช ุงูุญููููุฉ"
2. ุงููุฃ ุงูุจูุงูุงุช
3. ุงุถุบุท ุนูู "ุฅุฑุณุงู ุงูุงุณุชูุงุฑุฉ"
4. ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ
```

### 3. ุชุฌุฑุจุฉ ุงูุชูุงุก ุตูุงุญูุฉ ุงูุชููู
```
1. ุงูุชุญ Developer Tools (F12)
2. ุงุฐูุจ ุฅูู Application > Local Storage
3. ุงุญุฐู access_token
4. ุญุงูู ุฅุฑุณุงู ุงุณุชูุงุฑุฉ
5. ูุฌุจ ุฃู ูุชู ุชุฌุฏูุฏ ุงูุชููู ุชููุงุฆูุงู
```

## ๐๏ธ ุงูุชุญุณููุงุช ุงููุถุงูุฉ

### 1. ุฑุณุงุฆู ุฎุทุฃ ุฃูุถู
```javascript
if (error.response?.status === 401) {
  toast.error('ุงูุชูุช ุตูุงุญูุฉ ุฌูุณุฉ ุงูุฏุฎูู. ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู.');
}
```

### 2. ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆูุฉ
```javascript
// ูุญุงููุฉ ุชุญุฏูุซ ุงูุชููู
const response = await axios.post('/api/auth/jwt/refresh/', {
  refresh: refreshToken,
});

// ุฅุนุงุฏุฉ ุงููุญุงููุฉ ูุน ุงูุชููู ุงูุฌุฏูุฏ
return apiClient(originalRequest);
```

### 3. ุฅุฏุงุฑุฉ ุฃูุถู ููุญุงูุงุช
- ุงูุชุนุงูู ูุน ุงูุชูุงุก ุตูุงุญูุฉ ุงูุชููู
- ุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆู ุนูุฏ ูุดู ุงูุชุฌุฏูุฏ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ

## ๐ง ุงููููุงุช ุงููุญุฏุซุฉ

### Backend
- โ `requirements.txt` - ุฅุถุงูุฉ ุงูููุชุจุงุช ุงููุทููุจุฉ

### Frontend
- โ `lib/apiClient.ts` - ูุธุงู Axios ูุชูุฏู ุฌุฏูุฏ
- โ `lib/auth.ts` - ุชุญุฏูุซ ูุงุณุชุฎุฏุงู localStorage
- โ `lib/api.ts` - ุชุญุฏูุซ interceptors
- โ `pages/forms/government-entity.tsx` - ุงุณุชุฎุฏุงู apiClient
- โ `pages/forms/citizen-feedback.tsx` - ุงุณุชุฎุฏุงู apiClient
- โ `pages/admin/forms.tsx` - ุงุณุชุฎุฏุงู apiClient
- โ `pages/dashboard.tsx` - ุฅุถุงูุฉ ุฑูุงุจุท ุงูุงุณุชูุงุฑุงุช

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุงูุขู ุงููุธุงู ูุนูู ุจุดูู ูุซุงูู:
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก 401
- โ ุชุฌุฏูุฏ ุชููุงุฆู ููุชููู
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ ุฅุนุงุฏุฉ ุชูุฌูู ุฐููุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ

## ๐ ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:
1. ุชุฃูุฏ ูู ุชุดุบูู Backend ุนูู http://localhost:8000
2. ุชุฃูุฏ ูู ุชุดุบูู Frontend ุนูู http://localhost:3000
3. ุงูุณุญ cache ุงููุชุตูุญ
4. ุชุฃูุฏ ูู ูุฌูุฏ ุงูุชููู ูู localStorage
5. ุชุญูู ูู Console ููุฃุฎุทุงุก

---
**ุชู ุญู ุงููุดููุฉ ุจูุฌุงุญ! ๐**
